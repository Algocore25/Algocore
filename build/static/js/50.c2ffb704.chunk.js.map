{"version":3,"file":"static/js/50.c2ffb704.chunk.js","mappings":"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","sources":["pages/CoursesPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FaPython, FaJava, FaJs, FaCuttlefish } from \"react-icons/fa\";\r\nimport { SiCplusplus, SiC } from \"react-icons/si\";\r\nimport { ref, get, child } from 'firebase/database';\r\nimport { database } from '../firebase';\r\nimport LoadingPage from './LoadingPage';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst iconMap = {\r\n  python: <FaPython className=\"w-12 h-12 text-[#3776AB]\" />,\r\n  java: <FaJava className=\"w-12 h-12 text-[#007396]\" />,\r\n  javascript: <FaJs className=\"w-12 h-12 text-[#F7DF1E]\" />,\r\n  c: <SiC className=\"w-12 h-12 text-[#555555]\" />,\r\n  cpp: <SiCplusplus className=\"w-12 h-12 text-[#00599C]\" />,\r\n};\r\n\r\nconst CourseCard = ({ course }) => (\r\n  <div className=\"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 border-2 border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 h-full flex flex-col hover:border-blue-400 dark:hover:border-blue-500\">\r\n    <div className=\"text-blue-600 dark:text-blue-400 mb-4\">\r\n      {iconMap[course.id] || <FaCuttlefish className=\"w-12 h-12\" />}\r\n    </div>\r\n    <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-2\">{course.title}</h3>\r\n    <p className=\"text-gray-600 dark:text-gray-400 mb-4 flex-grow\">{course.description}</p>\r\n\r\n    <div className=\"mt-2 mb-4\">\r\n      <div className=\"flex justify-between text-sm mb-1\">\r\n        <span className=\"text-gray-600 dark:text-gray-300\">Progress</span>\r\n        <span className=\"font-medium\">{Math.round(course.progress || 0)}%</span>\r\n      </div>\r\n      <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\r\n        <div\r\n          className=\"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300\"\r\n          style={{ width: `${Math.round(course.progress || 0)}%` }}\r\n        ></div>\r\n      </div>\r\n    </div>\r\n\r\n    <Link\r\n      to={`/course/${course.id}`}\r\n      className=\"inline-flex items-center text-blue-600 dark:text-blue-400 font-medium hover:text-blue-800 dark:hover:text-blue-300 transition-colors mt-auto\"\r\n    >\r\n      {(course.progress || 0) > 0 ? 'Continue Learning' : 'Start Learning'}\r\n      <svg className=\"w-4 h-4 ml-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n      </svg>\r\n    </Link>\r\n  </div>\r\n);\r\n\r\nconst CoursesPage = () => {\r\n  const [courses, setCourses] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { user } = useAuth();\r\n\r\n  const calculateCourseProgress = (lessons, userProgress) => {\r\n    if (!lessons || typeof lessons !== 'object') return 0;\r\n    let total = 0;\r\n    let completed = 0;\r\n    Object.keys(lessons).forEach(topicKey => {\r\n      const topic = lessons[topicKey];\r\n      if (typeof topic !== 'object' || !topic.description) return;\r\n      const questions = Array.isArray(topic.questions)\r\n        ? topic.questions\r\n        : (typeof topic.questions === 'object' ? Object.keys(topic.questions) : []);\r\n      total += questions.length;\r\n      const tProg = (userProgress && userProgress[topicKey]) || {};\r\n      questions.forEach(q => {\r\n        if (tProg && tProg[q] === true) completed += 1;\r\n      });\r\n    });\r\n    return total > 0 ? Math.round((completed / total) * 100) : 0;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchCourses = async () => {\r\n      try {\r\n        const dbRef = ref(database);\r\n        const snapshot = await get(child(dbRef, 'Courses'));\r\n\r\n        if (snapshot.exists()) {\r\n          const data = snapshot.val();\r\n          setCourses(data);\r\n\r\n          // If user logged in, compute progress for each course\r\n          if (user && Array.isArray(data)) {\r\n            const enriched = await Promise.all(\r\n              data.map(async (c) => {\r\n                try {\r\n                  const [lessonsSnap, progressSnap] = await Promise.all([\r\n                    get(child(dbRef, `AlgoCore/${c.id}/lessons`)),\r\n                    get(child(dbRef, `userprogress/${user.uid}/${c.id}`))\r\n                  ]);\r\n                  const lessons = lessonsSnap.exists() ? lessonsSnap.val() : {};\r\n                  const uprog = progressSnap.exists() ? progressSnap.val() : {};\r\n                  const percent = calculateCourseProgress(lessons, uprog);\r\n                  return { ...c, progress: percent };\r\n                } catch (e) {\r\n                  console.error('Error computing course progress for', c.id, e);\r\n                  return { ...c, progress: 0 };\r\n                }\r\n              })\r\n            );\r\n            setCourses(enriched);\r\n          }\r\n\r\n        }\r\n        else {\r\n          setError('No courses found');\r\n        }\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError(err.message);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchCourses();\r\n  }, [user]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <LoadingPage />\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-white dark:bg-gray-900\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-800 dark:text-white mb-4\">Error</h2>\r\n          <p className=\"text-gray-600 dark:text-gray-400\">{error}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white dark:bg-gray-900 relative overflow-x-hidden flex flex-col\">\r\n      <div className=\"absolute top-0 left-0 w-full h-full bg-grid-pattern dark:bg-grid-pattern\"></div>\r\n      <main className=\"relative flex-grow z-10\">\r\n        {/* Hero Section */}\r\n        <section className=\"flex items-center justify-center py-16 px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"w-full flex flex-col items-center justify-center text-center\">\r\n            <h1 className=\"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-2\">\r\n              Explore Our Courses\r\n            </h1>\r\n            <h2 className=\"text-4xl sm:text-5xl md:text-6xl font-extrabold text-blue-600 dark:text-blue-400 mb-4\">\r\n              Master Programming Through Practice\r\n            </h2>\r\n            <p className=\"text-lg sm:text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto mb-8\">\r\n              No boring lectures - just real coding challenges to level up your skills\r\n            </p>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Courses Section */}\r\n        <section className=\"relative z-10 py-8 px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"max-w-7xl mx-auto\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n              {courses.map(course => (\r\n                <CourseCard key={course.id} course={course} />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CoursesPage;\r\n"],"names":["iconMap","python","_jsx","FaPython","className","java","FaJava","javascript","FaJs","c","SiC","cpp","SiCplusplus","CourseCard","_ref","course","_jsxs","children","id","FaCuttlefish","title","description","Math","round","progress","style","width","concat","Link","to","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","CoursesPage","courses","setCourses","useState","loading","setLoading","error","setError","user","useAuth","useEffect","async","dbRef","ref","database","snapshot","get","child","exists","data","val","Array","isArray","enriched","Promise","all","map","lessonsSnap","progressSnap","uid","lessons","percent","calculateCourseProgress","userProgress","total","completed","Object","keys","forEach","topicKey","topic","questions","length","tProg","q","_objectSpread","e","console","err","message","fetchCourses","LoadingPage"],"sourceRoot":""}